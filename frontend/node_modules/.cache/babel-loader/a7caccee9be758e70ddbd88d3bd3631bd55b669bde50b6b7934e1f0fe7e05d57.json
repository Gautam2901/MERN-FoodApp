{"ast":null,"code":"// import React, { useContext, useState } from 'react'\n// import './PlaceOrder.css';\n// import { StoreContext } from '../../context/StoreContext';\n// import axios from 'axios';\n\n// const PlaceOrder = () => {\n\n//   const { getTotalCartAmount, token, food_list, cartItems, url } = useContext(StoreContext);\n\n//   const [data, setData] = useState({\n//     firstName:\"\",\n//     lastName:\"\",\n//     email:\"\",\n//     street:\"\",\n//     city:\"\",\n//     state:\"\",\n//     pincode:\"\",\n//     country:\"\",\n//     phone:\"\"\n//   });\n\n//   const onChangeHandler = (event)=>{\n//     const name = event.target.name;\n//     const value = event.target.value;\n//     setData(data=>({...data,[name]:value}))\n//   }\n\n//   const placeOrder = async (event) =>{\n//     event.preventDefault();\n//     let orderItems = [];\n//     food_list.map((item)=>{\n//       if(cartItems[item._id]>0){\n//         let itemInfo = item;\n//         itemInfo[\"quantity\"] = cartItems[item._id];\n//         orderItems.push(itemInfo);\n//       }\n//     })\n\n//     let orderData = {\n//       address:data,\n//       items:orderItems,\n//       amount:getTotalCartAmount()+149,\n\n//     }\n\n//     let response = await axios.post(url+\"/api/order/place\", orderData, {headers:{token}});\n//     if(response.data.success){\n//       const {session_url} = response.data;\n//       window.location.replace(session_url);\n//     }\n//     else{\n//       alert(\"Error..loading payment page.\");\n//     }\n//   }\n\n//   return (\n//     <form onSubmit={placeOrder} className=\"place-order\">\n//       <div className=\"place-order-left\">\n//         <p className=\"title\">Delivery Information</p>\n//         <div className=\"multi-fields\">\n//           <input required name='firstName' onChange={onChangeHandler} value={data.firstName} type=\"text\" placeholder='First Name'/>\n//           <input required name='lastName' onChange={onChangeHandler} value={data.lastName} type=\"text\" placeholder='Last Name'/>\n//         </div>\n//         <input required name='email' onChange={onChangeHandler} value={data.email} type=\"email\" placeholder='Email address'/>\n//         <input required name='street' onChange={onChangeHandler} value={data.street} type=\"text\" placeholder='Street'/>\n//         <div className=\"multi-fields\">\n//           <input required name='city' onChange={onChangeHandler} value={data.city} type=\"text\" placeholder='City'/>\n//           <input required name='state' onChange={onChangeHandler} value={data.state} type=\"text\" placeholder='State'/>\n//         </div>\n//         <div className=\"multi-fields\">\n//           <input required name='pincode' onChange={onChangeHandler} value={data.pincode} type=\"text\" placeholder='Pin Code'/>\n//           <input required name='country' onChange={onChangeHandler} value={data.country} type=\"text\" placeholder='Country'/>\n//         </div>\n//         <input required name='phone' onChange={onChangeHandler} value={data.phone} type=\"text\" placeholder='Phone'/>\n//       </div>\n\n//       <div className=\"place-order-right\">\n//       <div className=\"cart-total\">\n//           <h2>Cart Totals</h2>\n//           <div>\n//           <div className=\"cart-total-details\">\n//               <p>Subtotal</p>\n//               <p>Rs. {getTotalCartAmount()}</p>\n//             </div>\n//             <hr />\n//             <div className=\"cart-total-details\">\n//               <p>Delivery Charges</p>\n//               <p>Rs.{getTotalCartAmount()===0?0:149}</p>\n//             </div>\n//             <hr />\n//             <div className=\"cart-total-details\">\n//               <b>Total</b>\n//               <b>Rs. {getTotalCartAmount()===0?0:getTotalCartAmount() + 149}</b>\n//             </div>\n//           </div>\n//           <button type='submit'>PROCEED TO PAYMENT</button>\n//         </div>\n//       </div>\n//     </form>\n//   )\n// }\n\n// export default PlaceOrder","map":{"version":3,"names":[],"sources":["C:/Users/Asus/OneDrive/Desktop/PRABHAT_Coding/MERN/Projects_2024/ReactJs/foodApp/src/pages/PlaceOrder/PlaceOrder.js"],"sourcesContent":["// import React, { useContext, useState } from 'react'\r\n// import './PlaceOrder.css';\r\n// import { StoreContext } from '../../context/StoreContext';\r\n// import axios from 'axios';\r\n\r\n// const PlaceOrder = () => {\r\n\r\n//   const { getTotalCartAmount, token, food_list, cartItems, url } = useContext(StoreContext);\r\n\r\n//   const [data, setData] = useState({\r\n//     firstName:\"\",\r\n//     lastName:\"\",\r\n//     email:\"\",\r\n//     street:\"\",\r\n//     city:\"\",\r\n//     state:\"\",\r\n//     pincode:\"\",\r\n//     country:\"\",\r\n//     phone:\"\"\r\n//   });\r\n\r\n\r\n//   const onChangeHandler = (event)=>{\r\n//     const name = event.target.name;\r\n//     const value = event.target.value;\r\n//     setData(data=>({...data,[name]:value}))\r\n//   }\r\n\r\n//   const placeOrder = async (event) =>{\r\n//     event.preventDefault();\r\n//     let orderItems = [];\r\n//     food_list.map((item)=>{\r\n//       if(cartItems[item._id]>0){\r\n//         let itemInfo = item;\r\n//         itemInfo[\"quantity\"] = cartItems[item._id];\r\n//         orderItems.push(itemInfo);\r\n//       }\r\n//     })\r\n\r\n//     let orderData = {\r\n//       address:data,\r\n//       items:orderItems,\r\n//       amount:getTotalCartAmount()+149,\r\n\r\n//     }\r\n\r\n//     let response = await axios.post(url+\"/api/order/place\", orderData, {headers:{token}});\r\n//     if(response.data.success){\r\n//       const {session_url} = response.data;\r\n//       window.location.replace(session_url);\r\n//     }\r\n//     else{\r\n//       alert(\"Error..loading payment page.\");\r\n//     }\r\n//   }\r\n\r\n//   return (\r\n//     <form onSubmit={placeOrder} className=\"place-order\">\r\n//       <div className=\"place-order-left\">\r\n//         <p className=\"title\">Delivery Information</p>\r\n//         <div className=\"multi-fields\">\r\n//           <input required name='firstName' onChange={onChangeHandler} value={data.firstName} type=\"text\" placeholder='First Name'/>\r\n//           <input required name='lastName' onChange={onChangeHandler} value={data.lastName} type=\"text\" placeholder='Last Name'/>\r\n//         </div>\r\n//         <input required name='email' onChange={onChangeHandler} value={data.email} type=\"email\" placeholder='Email address'/>\r\n//         <input required name='street' onChange={onChangeHandler} value={data.street} type=\"text\" placeholder='Street'/>\r\n//         <div className=\"multi-fields\">\r\n//           <input required name='city' onChange={onChangeHandler} value={data.city} type=\"text\" placeholder='City'/>\r\n//           <input required name='state' onChange={onChangeHandler} value={data.state} type=\"text\" placeholder='State'/>\r\n//         </div>\r\n//         <div className=\"multi-fields\">\r\n//           <input required name='pincode' onChange={onChangeHandler} value={data.pincode} type=\"text\" placeholder='Pin Code'/>\r\n//           <input required name='country' onChange={onChangeHandler} value={data.country} type=\"text\" placeholder='Country'/>\r\n//         </div>\r\n//         <input required name='phone' onChange={onChangeHandler} value={data.phone} type=\"text\" placeholder='Phone'/>\r\n//       </div>\r\n      \r\n      \r\n\r\n//       <div className=\"place-order-right\">\r\n//       <div className=\"cart-total\">\r\n//           <h2>Cart Totals</h2>\r\n//           <div>\r\n//           <div className=\"cart-total-details\">\r\n//               <p>Subtotal</p>\r\n//               <p>Rs. {getTotalCartAmount()}</p>\r\n//             </div>\r\n//             <hr />\r\n//             <div className=\"cart-total-details\">\r\n//               <p>Delivery Charges</p>\r\n//               <p>Rs.{getTotalCartAmount()===0?0:149}</p>\r\n//             </div>\r\n//             <hr />\r\n//             <div className=\"cart-total-details\">\r\n//               <b>Total</b>\r\n//               <b>Rs. {getTotalCartAmount()===0?0:getTotalCartAmount() + 149}</b>\r\n//             </div>\r\n//           </div>\r\n//           <button type='submit'>PROCEED TO PAYMENT</button>\r\n//         </div>\r\n//       </div>\r\n//     </form>\r\n//   )\r\n// }\r\n\r\n// export default PlaceOrder\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}